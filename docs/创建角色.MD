# 创建角色指南

## 1. 角色创建概述

在本应用中，您可以通过多种方式创建和定制虚拟角色。从基本的角色信息设置到高级提示词配置，再到声音选择，本指南将帮助您理解如何打造个性化的AI伙伴。

## 2. 创建/导入角色

### 2.1 创建角色的方式

本应用提供了两种主要方式创建角色：

- **手动创建**：自定义角色的所有细节，包括外观、性格、背景故事等
- **使用摇篮系统**：通过简单设置让AI自动生成角色定义

### 2.2 角色创建界面

角色创建界面分为三个主要标签页，可通过左侧导航栏切换：

![角色创建界面](../assets/docs/character_creation_ui.png)

1. **基本设置**：配置角色外观和图片
2. **高级设置**：设置角色信息、世界观和提示词
3. **声音设置**：选择角色的声音类型和模板

#### 2.2.1 基本设置 - 角色外观

在基本设置标签页中，您可以选择两种方式设置角色外观：

- **上传图片**：直接上传角色的头像和背景图片
  - 角色卡图片：建议使用9:16比例的图片
  - 头像图片：建议使用方形图片，会自动裁剪成圆形显示

- **通过标签描述**：使用正面和负面标签描述角色外观
  - 选择艺术风格：可以选择特定艺术家的风格作为参考
  - 添加正面标签：描述角色应该具备的外观特征
  - 添加负面标签：指定角色不应具备的特征
  - **注意：通过标签描述方式不会自动生成图片，仅将标签信息保存为角色外观描述数据。**

注意：标签信息会保存为角色描述的一部分，这些数据可以帮助您更好地记录角色的外观设定。

#### 2.2.2 高级设置 - 角色信息与提示词

高级设置标签页包含角色的详细信息和行为设定：

- **角色基本信息**：
  - 名称：角色的称呼
  - 开场白：角色首次见面时的对话内容
    - 支持多个开场白：可以添加多个不同的开场白选项
    - 开场白管理：可以添加、删除和切换不同的开场白
  - 角色描述：外表、年龄、身份等基本信息
  - 性格特征：角色的个性和行为模式
  - 场景设定：角色所处的环境和背景
  - 对话示例：展示角色说话风格的范例

- **世界知识库**：
  - 添加角色世界观中的关键知识点
  - 设置触发条件和插入位置
  - 调整优先级和深度
  - 支持导入世界书：可以导入JSON格式的世界书文件

- **提示词预设**：
  - 系统指令：控制AI的行为和回应方式
  - 可以通过"导入预设"按钮导入已有的提示词配置
  - 支持条目排序和自定义配置

#### 2.2.3 声音设置 - 多平台TTS支持

声音设置标签页现在支持多个TTS（文本转语音）平台，为角色选择最适合的声音：

- **TTS平台选择**：
  - **CosyVoice**：本地化语音合成平台
    - 性别选择：选择男性或女性声音
    - 声音模板：从预设的声音模板中选择适合角色的声音类型
    - 试听功能：可以试听所选声音效果
  
  - **豆包TTS**：字节跳动的语音合成服务
    - 提供多种音色选择
    - 高质量的中文语音合成
    - 支持不同情感和语调的音色
  
  - **Minimax**：新一代AI语音合成平台
    - 先进的语音合成技术
    - 自然流畅的语音表达
    - 多样化的音色选项

- **声音配置**：
  - 每个TTS平台都有独立的音色配置选项
  - 支持预览和试听功能
  - 配置信息会随角色一起保存

### 2.3 导入现有角色

除了创建新角色，您还可以导入已有的角色数据：

- **导入支持格式**：
  - PNG格式的角色卡（Tavern/ChubAI格式）
  - JSON格式的角色预设文件
  - JSON格式的世界书文件

导入步骤：
1. 在角色创建页面的高级设置中点击相应的导入按钮
2. 选择您要导入的文件（JSON或PNG格式）
3. 确认导入后，系统会自动填充相应的信息

**导入功能增强**：
- **角色卡导入**：支持完整的角色信息导入，包括多个开场白
- **世界书导入**：可以单独导入世界书文件
- **预设导入**：可以单独导入提示词预设配置
- **正则脚本自动导入**：导入的角色如果包含正则脚本，会自动添加到全局设置中，需要在全局设置中开启全局正则，保存生效

### 2.4 摇篮系统创建角色

摇篮系统提供了更智能的角色创建方式：

1. **基础设定**：
   - 选择角色性别和用户性别
   - 设置角色年龄范围
   - 选择角色特征和性格倾向

2. **外观设定**：
   - 上传图片或使用标签描述
   - 选择艺术风格参考
   - 设置正面和负面特征标签

3. **声音设定**：
   - 选择TTS平台和对应音色
   - 配置语音参数

4. **自动生成**：
   - 系统会根据设定自动生成完整的角色定义
   - 包括性格描述、背景故事、对话风格等

摇篮创建的特点：
- 简化了复杂的角色设定过程
- 可以通过选择特征快速创建个性化角色
- 支持即时生成，无需等待

### 2.5 保存角色

完成角色设置后，点击侧边栏下方的保存按钮即可创建角色。成功创建后，您可以：

- 直接进入与新角色的对话界面
- 在角色列表中找到并管理您创建的角色
- 角色的所有配置（包括TTS设置）都会被保存

**保存功能增强**：
- 支持多开场白的保存和管理
- TTS配置会随角色一起保存
- 外观标签数据会作为角色描述的一部分保存
- 导入的正则脚本会自动关联到创建的角色

## 3. 角色管理与编辑

创建完成的角色可以随时进行编辑和管理：

- **基本信息修改**：可以随时更新角色的名称、描述等基本信息
- **开场白管理**：可以添加、删除或修改角色的开场白
- **声音设置更新**：可以更换TTS平台或调整音色配置
- **世界书维护**：可以增删改世界书条目
- **提示词调优**：可以优化系统指令和预设配置