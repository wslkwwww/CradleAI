[33mcommit c8a947f2db0e129c0a10863326ceb76072f334b0[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mfeature/front-end-compatibility[m[33m)[m
Author: AliceSyndrome285 <943113638@qq.com>
Date:   Thu Apr 24 14:16:22 2025 +0800

    fix template integration

[1mdiff --git a/docs/log.md b/docs/log.md[m
[1mindex dba4aa8..8fd68b0 100644[m
[1m--- a/docs/log.md[m
[1m+++ b/docs/log.md[m
[36m@@ -1,123 +1,694 @@[m
[31m-`templatememory`æ—¥å¿—åˆ†æï¼š[m
[31m-[m
[31m-ä»æ—¥å¿—ä¸­ç­›é€‰äº†å‡ºåŒ…å« `TableMemory`, `TableMemoryIntegration`, `StorageService` (æ¶‰åŠ `sheets` æˆ– `cells` æ—¶), `MobileMemory` (æ¶‰åŠ `è¡¨æ ¼` æ—¶), `MobileLLM` (è°ƒç”¨LLMå¤„ç†è¡¨æ ¼æ—¶), `Geminié€‚é…å™¨` (è°ƒç”¨LLMå¤„ç†è¡¨æ ¼æ—¶) çš„å…³é”®æ—¥å¿—è¡Œï¼š[m
[31m-[m
[31m-```[m
[31m-(NOBRIDGE) WARN  Require cycle: src\memory\plugins\table-memory\index.ts -> src\memory\plugins\table-memory\api.ts -> src\memory\plugins\table-memory\index.ts[m
[31m-(NOBRIDGE) LOG  [TableMemoryIntegration] åˆå§‹åŒ–è¡¨æ ¼è®°å¿†æ’ä»¶...[m
[31m-(NOBRIDGE) LOG  [TableMemory] æ­£åœ¨åˆå§‹åŒ–æ’ä»¶...[m
[31m-(NOBRIDGE) LOG  [TableMemory] åˆå§‹åŒ–æ•°æ®åº“: file:///data/user/0/host.exp.exponent/files/databases/table_memory.db[m
[31m-(NOBRIDGE) LOG  [TableMemory] å­˜å‚¨æœåŠ¡åˆå§‹åŒ–å®Œæˆ[m
[31m-(NOBRIDGE) LOG  [TableMemory] æ¨¡æ¿ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ[m
[31m-(NOBRIDGE) LOG  [TableMemory] åˆå§‹åŒ–è¡¨æ ¼ç®¡ç†å™¨...[m
[31m-(NOBRIDGE) LOG  [TableMemory] è¡¨æ ¼ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆ[m
[31m-(NOBRIDGE) LOG  [TableMemory] è·å–æ‰€æœ‰æ¨¡æ¿ï¼Œå…± 6 ä¸ªæ¨¡æ¿[m
[31m-(NOBRIDGE) LOG  [TableMemory] å·²å­˜åœ¨æ¨¡æ¿ï¼Œè·³è¿‡åˆ›å»ºé»˜è®¤æ¨¡æ¿[m
[31m-(NOBRIDGE) LOG  [TableMemory] æ’ä»¶åˆå§‹åŒ–å®Œæˆ[m
[31m-(NOBRIDGE) LOG  [TableMemory] æ’ä»¶å·²å¯ç”¨[m
[31m-(NOBRIDGE) LOG  [TableMemoryIntegration] è¡¨æ ¼è®°å¿†æ’ä»¶åˆå§‹åŒ–æˆåŠŸ[m
[31m-(NOBRIDGE) LOG  [MobileMemory] å¼€å§‹ä»ç”¨æˆ·æ¶ˆæ¯ä¸­æå–äº‹å®[m
[31m-(NOBRIDGE) LOG  [MobileMemory] å‡†å¤‡äº†åŸå§‹å¯¹è¯å†…å®¹ä¾›è¡¨æ ¼è®°å¿†ä½¿ç”¨ï¼Œé•¿åº¦: 162 å­—ç¬¦[m
[31m-(NOBRIDGE) LOG  [TableMemoryIntegration] Getting table data for characterId: "1745128286761", conversationId: "1745128286761"[m
[31m-(NOBRIDGE) LOG  [StorageService] Running getSheetsByCharacter - characterId: "1745128286761" (string), conversationId: "1745128286761" (string)[m
[31m-(NOBRIDGE) LOG  [StorageService] Direct match query found 2 sheets[m
[31m-(NOBRIDGE) LOG  [StorageService] Found 52 cells for sheet 8045878e-bc99-42fd-8f55-bce702804963[m
[31m-(NOBRIDGE) LOG  [StorageService] Found 16 cells for sheet 910f3bd1-585d-4afd-b52e-67ad9f0b968e[m
[31m-(NOBRIDGE) LOG  [TableMemoryIntegration] Found 2 tables for character 1745128286761[m
[31m-(NOBRIDGE) LOG  [MobileMemory] è·å–åˆ°è¡¨æ ¼æ•°æ®ï¼Œå°†æ•´åˆåˆ°æç¤ºè¯ä¸­ (2ä¸ªè¡¨æ ¼)[m
[31m-(NOBRIDGE) LOG  [MobileMemory] ä½¿ç”¨è¡¨æ ¼è®°å¿†å¢å¼ºäº†æ ‡å‡†æç¤ºè¯[m
[31m-(NOBRIDGE) LOG  [MobileMemory] æ­£åœ¨ä½¿ç”¨LLMæå–äº‹å®å’Œè¡¨æ ¼æ“ä½œ  <--- LLM è°ƒç”¨ 1 (æå–äº‹å®+è¡¨æ ¼æ“ä½œ)[m
[31m-(NOBRIDGE) LOG  [MobileLLM] å¼€å§‹ç”Ÿæˆå†…å®¹ï¼Œæä¾›å•†: geminiï¼Œæ¨¡å‹: gemini-2.0-flash-expï¼Œæ¶ˆæ¯æ•°: 2[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] ... è¯·æ±‚åŒ…å« 2 æ¡æ¶ˆæ¯ ... (åŒ…å«è¡¨æ ¼å¤„ç†æŒ‡ä»¤) ...[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] è°ƒç”¨CloudServiceProvider.generateChatCompletion...[m
[31m-(NOBRIDGE) LOG  [CloudService] è¯·æ±‚å®Œæˆï¼Œè€—æ—¶: 3926ms, çŠ¶æ€ç : 200[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] æˆåŠŸæ¥æ”¶CradleAIå“åº”ï¼Œé•¿åº¦: 210 (åŒ…å« facts å’Œ tableActions)[m
[31m-(NOBRIDGE) LOG  [MobileLLM] æˆåŠŸç”Ÿæˆå†…å®¹ï¼Œå“åº”é•¿åº¦: 210[m
[31m-(NOBRIDGE) LOG  [MobileMemory] LLM è¿”å›äº† 1 æ¡è¡¨æ ¼æ“ä½œæŒ‡ä»¤[m
[31m-(NOBRIDGE) LOG  [MobileMemory] å¤„ç†1æ¡è¡¨æ ¼æ“ä½œæŒ‡ä»¤[m
[31m-(NOBRIDGE) LOG  [TableMemoryIntegration] å‘ç° 1 ä¸ªè¡¨æ ¼æ“ä½œæŒ‡ä»¤[m
[31m-(NOBRIDGE) LOG  [TableMemoryIntegration] è§£æåæœ‰ 1 ä¸ªæœ‰æ•ˆè¡¨æ ¼æ“ä½œ[m
[31m-(NOBRIDGE) LOG  [TableMemory] è·å–è¡¨æ ¼è¯¦æƒ…: 910f3bd1-585d-4afd-b52e-67ad9f0b968e[m
[31m-(NOBRIDGE) LOG  [TableMemoryIntegration] å¤„ç†è¡¨æ ¼ 910f3bd1-585d-4afd-b52e-67ad9f0b968e (é‡è¦ç‰©å“è¡¨æ ¼) çš„æ“ä½œ[m
[31m-(NOBRIDGE) LOG  [TableMemory] æ›´æ–°è¡¨æ ¼ "é‡è¦ç‰©å“è¡¨æ ¼" (ID: 910f3bd1-585d-4afd-b52e-67ad9f0b968e) çš„è¡Œ 0[m
[31m-(NOBRIDGE) LOG  [TableMemoryIntegration] æˆåŠŸæ›´æ–°è¡¨æ ¼ é‡è¦ç‰©å“è¡¨æ ¼ çš„è¡Œ 0[m
[31m-(NOBRIDGE) LOG  [TableMemory] æ‰¹é‡å¤„ç† 2 ä¸ªè¡¨æ ¼ <--- å¼€å§‹æ‰¹é‡/é¡ºåºå¤„ç†æµç¨‹[m
[31m-(NOBRIDGE) LOG  [TableMemory] æ‰§è¡Œæ‰¹é‡è¡¨æ ¼å¤„ç†[m
[31m-(NOBRIDGE) LOG  [TableMemory] ä»Mem0Serviceè·å–LLMå®ä¾‹[m
[31m-(NOBRIDGE) LOG  [MobileLLM] å¼€å§‹ç”Ÿæˆå†…å®¹ï¼Œæä¾›å•†: geminiï¼Œæ¨¡å‹: gemini-2.0-flash-expï¼Œæ¶ˆæ¯æ•°: 2 <--- LLM è°ƒç”¨ 2 (æ‰¹é‡æ›´æ–°å°è¯•)[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] ... è¯·æ±‚åŒ…å« 2 æ¡æ¶ˆæ¯ ... (åŒ…å«æ‰€æœ‰è¡¨æ ¼å’Œå¯¹è¯ï¼Œè¦æ±‚æ‰¹é‡æ›´æ–°) ...[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] è°ƒç”¨CloudServiceProvider.generateChatCompletion...[m
[31m-(NOBRIDGE) LOG  [CloudService] è¯·æ±‚å®Œæˆï¼Œè€—æ—¶: 4396ms, çŠ¶æ€ç : 200[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] æˆåŠŸæ¥æ”¶CradleAIå“åº”ï¼Œé•¿åº¦: 835[m
[31m-(NOBRIDGE) LOG  [MobileLLM] æˆåŠŸç”Ÿæˆå†…å®¹ï¼Œå“åº”é•¿åº¦: 835[m
[31m-(NOBRIDGE) LOG  [TableMemory] æ‰¹å¤„ç† LLM å“åº”...[m
[31m-(NOBRIDGE) LOG  [TableMemory] æ‰¹å¤„ç†æœªæ›´æ–°ä»»ä½•è¡¨æ ¼ï¼Œå°è¯•é¡ºåºå¤„ç† <--- æ‰¹é‡å¤„ç†å¤±è´¥/æ— æ“ä½œï¼Œè§¦å‘é¡ºåºå¤„ç†[m
[31m-(NOBRIDGE) LOG  [TableMemory] ä½¿ç”¨é¡ºåºå¤„ç†æ¨¡å¼å¤„ç† 2 ä¸ªè¡¨æ ¼[m
[31m-(NOBRIDGE) LOG  [TableMemory] å¤„ç†è¡¨æ ¼ "æ—¶ç©ºè¡¨æ ¼" (ID: 8045878e-bc99-42fd-8f55-bce702804963)[m
[31m-(NOBRIDGE) LOG  [MobileLLM] å¼€å§‹ç”Ÿæˆå†…å®¹ï¼Œæä¾›å•†: geminiï¼Œæ¨¡å‹: gemini-2.0-flash-expï¼Œæ¶ˆæ¯æ•°: 2 <--- LLM è°ƒç”¨ 3 (é¡ºåºæ›´æ–°è¡¨æ ¼1)[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] ... è¯·æ±‚åŒ…å« 2 æ¡æ¶ˆæ¯ ... (åŒ…å«è¡¨æ ¼1å’Œå¯¹è¯ï¼Œè¦æ±‚æ›´æ–°è¡¨æ ¼1) ...[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] è°ƒç”¨CloudServiceProvider.generateChatCompletion...[m
[31m-(NOBRIDGE) LOG  [CloudService] è¯·æ±‚å®Œæˆï¼Œè€—æ—¶: 3685ms, çŠ¶æ€ç : 200[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] æˆåŠŸæ¥æ”¶CradleAIå“åº”ï¼Œé•¿åº¦: 1198[m
[31m-(NOBRIDGE) LOG  [MobileLLM] æˆåŠŸç”Ÿæˆå†…å®¹ï¼Œå“åº”é•¿åº¦: 1198[m
[31m-(NOBRIDGE) LOG  [TableMemory] æˆåŠŸæ›´æ–°è¡¨æ ¼ "æ—¶ç©ºè¡¨æ ¼"[m
[31m-(NOBRIDGE) LOG  [TableMemory] è¡¨æ ¼ "æ—¶ç©ºè¡¨æ ¼" (ID: 8045878e-bc99-42fd-8f55-bce702804963) å·²æ›´æ–°[m
[31m-(NOBRIDGE) LOG  [TableMemory] å¤„ç†è¡¨æ ¼ "é‡è¦ç‰©å“è¡¨æ ¼" (ID: 910f3bd1-585d-4afd-b52e-67ad9f0b968e)[m
[31m-(NOBRIDGE) LOG  [MobileLLM] å¼€å§‹ç”Ÿæˆå†…å®¹ï¼Œæä¾›å•†: geminiï¼Œæ¨¡å‹: gemini-2.0-flash-expï¼Œæ¶ˆæ¯æ•°: 2 <--- LLM è°ƒç”¨ 4 (é¡ºåºæ›´æ–°è¡¨æ ¼2)[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] ... è¯·æ±‚åŒ…å« 2 æ¡æ¶ˆæ¯ ... (åŒ…å«è¡¨æ ¼2å’Œå¯¹è¯ï¼Œè¦æ±‚æ›´æ–°è¡¨æ ¼2) ...[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] è°ƒç”¨CloudServiceProvider.generateChatCompletion...[m
[31m-(NOBRIDGE) LOG  [CloudService] è¯·æ±‚å®Œæˆï¼Œè€—æ—¶: 3374ms, çŠ¶æ€ç : 200[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] æˆåŠŸæ¥æ”¶CradleAIå“åº”ï¼Œé•¿åº¦: 425[m
[31m-(NOBRIDGE) LOG  [MobileLLM] æˆåŠŸç”Ÿæˆå†…å®¹ï¼Œå“åº”é•¿åº¦: 425[m
[31m-(NOBRIDGE) LOG  [TableMemory] æˆåŠŸæ›´æ–°è¡¨æ ¼ "é‡è¦ç‰©å“è¡¨æ ¼"[m
[31m-(NOBRIDGE) LOG  [TableMemory] è¡¨æ ¼ "é‡è¦ç‰©å“è¡¨æ ¼" (ID: 910f3bd1-585d-4afd-b52e-67ad9f0b968e) å·²æ›´æ–°[m
[31m-(NOBRIDGE) LOG  [TableMemory] å¤„ç†è¡¨æ ¼ "é‡è¦ç‰©å“è¡¨æ ¼" (ID: 910f3bd1-585d-4afd-b52e-67ad9f0b968e) <--- é‡å¤å¤„ç†è¡¨æ ¼2ï¼Ÿ[m
[31m-(NOBRIDGE) LOG  [MobileLLM] å¼€å§‹ç”Ÿæˆå†…å®¹ï¼Œæä¾›å•†: geminiï¼Œæ¨¡å‹: gemini-2.0-flash-expï¼Œæ¶ˆæ¯æ•°: 2 <--- LLM è°ƒç”¨ 5 (ä¼¼ä¹æ˜¯é‡å¤è°ƒç”¨æ›´æ–°è¡¨æ ¼2)[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] ... è¯·æ±‚åŒ…å« 2 æ¡æ¶ˆæ¯ ... (ä¸è°ƒç”¨4ç±»ä¼¼çš„è¯·æ±‚) ...[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] è°ƒç”¨CloudServiceProvider.generateChatCompletion...[m
[31m-(NOBRIDGE) LOG  [CloudService] è¯·æ±‚å®Œæˆï¼Œè€—æ—¶: 6204ms, çŠ¶æ€ç : 200[m
[31m-(NOBRIDGE) LOG  [Geminié€‚é…å™¨] æˆåŠŸæ¥æ”¶CradleAIå“åº”ï¼Œé•¿åº¦: 1436[m
[31m-(NOBRIDGE) LOG  [MobileLLM] æˆåŠŸç”Ÿæˆå†…å®¹ï¼Œå“åº”é•¿åº¦: 1436[m
[31m-(